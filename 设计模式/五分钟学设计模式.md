# 五分钟学设计模式系列

```
@author: sdubrz
本文为B站视频学习笔记，原视频地址为https://www.bilibili.com/video/BV1af4y1y7sS/?spm_id_from=333.788.videocard.2
```

## 01 单例模式

```
@date: 7/21/2020 11:20:07 PM 
```

+ Ensure a class has only one instance, and provide a global point of access to it.
+ 单例模式的主要作用是确保一个类只有一个实例存在。
+ 可用于序列号生成器、web页面的计数器等。
+ 如果创建某个对象需要消耗较多的资源的话，比如访问IO、或者数据库资源的时候也可以使用单例模式。

### 例子

+ 构造方法必须是私有的（private）
+ 拥有一个唯一的实例，即它的类变量，是静态的（static）
+ 实现可以分为两种：懒汉式实现和饿汉式实现
	+ 懒汉式实现：在第一次使用的时候实例化，需要加锁防止被多次实例化。
	+ 饿汉式实现：类一开始加载的时候就实例化。

下面是一个简单的例子示意

```
public class SingletonPattern {
    public static void main(String[] args){

    }
}

class Singleton{
    private static Singleton singleton = new Singleton();  // 饿汉式实现，类加载的时候实例化
    private Singleton(){

    }

    public static Singleton getInstance(){
        return singleton;
    }
}
```

```
public class SingletonPattern {
    public static void main(String[] args){

    }
}

class Singleton{
    private static Singleton singleton;
    private Singleton(){

    }

    public static Singleton getInstance(){
        singleton = new Singleton();  // 懒汉式实现，在第一次使用的时候实例化。
									//需要加锁，这里只是个示意
        return singleton;
    }
}
```

## 02 简单工厂模式

```
@date: 7/21/2020 11:46:24 PM 
```

+ **简单工厂模式**（Simple Factory Pattern）：又称为**静态工厂方法**（Static Factory Method），它属于创建型模式。在简单工厂模式中，可以根据参数的不同返回不同类的实例。简单工厂模式专门定义一个类来负责创建其他类的实例，被创建的实例通常都具有共同的父类。
+ 有一个工厂类，根据参数决定返回不同类的实例。这些类一般属于同一个大类。
+ 下面是简单工厂模式的一个类图
	![简单工厂](image/simpleFactory.PNG)
+ 下面是简单工厂模式的一个例子

```
/**
 * 简单工厂模式
 */
public class SimpleFactory {

    public static Product createProduct(String type){
        if(type.equals("A")){
            return new ProductA();
        }else{
            return new ProductB();
        }
    }

    public static void main(String[] args) {
        Product product = SimpleFactory.createProduct("A");
        product.information();
    }
}

abstract class Product{
    public abstract void information();
}

class ProductA extends Product{

    @Override
    public void information() {
        System.out.println("product A");
    }
}

class ProductB extends Product{

    @Override
    public void information() {
        System.out.println("product B");
    }
}
```

+ 简单工厂模式的优点：
	+ 实现了对象的创建和使用的分离。把创建交给工厂类负责，客户端程序员不必关心怎么创建，只需要关心如何使用。
+ 简单工厂类的缺点：
	+ 工厂类不够灵活。如果我们新增一个产品类型，就需要修改工厂类，需要修改其判断模式。

